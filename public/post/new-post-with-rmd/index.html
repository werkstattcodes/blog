<!DOCTYPE html>
<html
  class=""
  lang="en-us"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="keywords" content="">


<meta property="og:type" content="article" />
<meta property="og:description" content="" />
<meta property="og:title" content="new post with rmd" />
<meta property="og:site_name" content="werk.statt.codes" />
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="/post/new-post-with-rmd/" />
<meta property="og:locale" content="en-us" />
<meta property="article:published_time" content="2019-10-10
" /> <meta property="article:modified_time" content="2019-10-10
" />






<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@zoowalk" />
<meta name="twitter:creator" content="@zoowalk" />
<meta
  name="twitter:title"
  content="new post with rmd | werk.statt.codes"
/>
<meta
  name="twitter:description"
  content="ContextHere’s another quick post on the results of the recent general elections in Austria. It goes without saying that there has been already a flurry of analyses, visualisations etc on it and there is hardly much new to add. Nevertheless, below a few
library(tidyverse)## -- Attaching packages ------------------------------------------------------------------------------------ tidyverse 1.2.1 --## v ggplot2 3.2.1.9000 v purrr 0.3.2 ## v tibble 2.1.3 v dplyr 0.8.3 ## v tidyr 1.|"
/>
<meta name="twitter:image:src" content="" />
<meta name="twitter:domain" content="/post/new-post-with-rmd/" />



    <title>new post with rmd</title>
    <link rel="canonical" href="/post/new-post-with-rmd/" />


    <link
  rel="stylesheet"
  href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css"
/>

<link rel="stylesheet" href="/css/style.css" />

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/vs.css"
/>


<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	if (window.sessionStorage) {
		var GA_SESSION_STORAGE_KEY = 'ga:clientId';
		ga('create', 'UA-XXXXXXXXX-X', {
	    'storage': 'none',
	    'clientId': sessionStorage.getItem(GA_SESSION_STORAGE_KEY)
	   });
	   ga(function(tracker) {
	    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, tracker.get('clientId'));
	   });
   }
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>


<body
  lang="en-us"
  class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns"
  itemscope
  itemtype="http://schema.org/Article">

  <span class="b">/ </span>
  <a href="/" class="b bw1 pb1 no-underline black">werk.statt.codes</a>
  <span class="b"> / </span>
  <a href="/post" class="b pb1 bw1 no-underline black">blog</a>
  <span class="b"> / </span>
  <a class="b bb bw1 pb1 no-underline green">new post with rmd</a>

  <section id="main" class="mt5">
    <a class="b bw1 pb1 no-underline black ttu">new post with rmd</a><br>
    <span class="f6 gray">October 10, 2019</span>

      <article itemprop="articleBody" id="content" class="w-90 lh-copy">
        


<div id="context" class="section level1">
<h1>Context</h1>
<p>Here’s another quick post on the results of the recent general elections in Austria. It goes without saying that there has been already a flurry of analyses, visualisations etc on it and there is hardly much new to add. Nevertheless, below a few</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ------------------------------------------------------------------------------------ tidyverse 1.2.1 --</code></pre>
<pre><code>## v ggplot2 3.2.1.9000     v purrr   0.3.2     
## v tibble  2.1.3          v dplyr   0.8.3     
## v tidyr   1.0.0          v stringr 1.4.0     
## v readr   1.3.1          v forcats 0.4.0</code></pre>
<pre><code>## -- Conflicts --------------------------------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>nrw19_imp &lt;- readr::read_csv2(file = file,
                              locale=locale(encoding=&quot;latin1&quot;)) %&gt;% 
  janitor::remove_empty(., which=c(&quot;cols&quot;)) %&gt;% 
  janitor::clean_names() %&gt;% 
  rename(gkz=x1)

nrw19 &lt;- nrw19_imp %&gt;%
  filter(str_detect(gkz, &quot;00$|99$&quot;)) %&gt;% 
  filter(!str_detect(gkz, &quot;.{2}[A-Z].*&quot;)) %&gt;%  #remove aggregates of regional electoral districts
  filter(!str_detect(gkz, &quot;0000$&quot;)) %&gt;%  #remove state level electoral districts
  filter(!str_detect(gkz, &quot;.{2}0099&quot;)) %&gt;%    #remove state level electoral districts
  mutate(district_id=stringr::str_sub(gkz, start=1, end=4))</code></pre>
</div>
<div id="another-heading-1" class="section level1">
<h1>another heading 1</h1>
<p>text</p>
<div id="a-heading-2" class="section level2">
<h2>a heading 2</h2>
<p>text</p>
<div id="a-heading-3" class="section level3">
<h3>a heading 3</h3>
<p>text</p>
</div>
</div>
</div>
<div id="a-heading-1" class="section level1">
<h1>a heading 1</h1>
<p>text</p>
<div id="a-heading-2-1" class="section level2">
<h2>a heading 2</h2>
<p>text</p>
</div>
</div>

        
  

      
      <span class="f6 gray mv3" title="Lastmod: October 10, 2019. Published at: 2019-10-10.">
        
      </span>

      

  </section>

  <footer>
    <div>
      <p class="f6 gray mt6 lh-copy">
        © Roland Schmidt <a href='https://twitter.com/siegerts'>@zoowalk</a>.
      </p>
    </div>
  </footer>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

<script>
  hljs.initHighlightingOnLoad();
</script>



  </body>
</html>